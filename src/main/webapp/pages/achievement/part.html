<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../../js/echarts.min.js"></script>
    <script src="../../js/jquery-3.4.1.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
    <div id="main" class="layui-card-body" style="width: 100%; height:300%;">
    </div>
</body>

<script>
    $(document).ready(function() {
        var seriesData = [];
        axios.post('/firstWeb/order/queryAchievement').then(function (response) {
            seriesData = response.data;
            console.log(seriesData);
            LineChart('main', '部门业绩统计图', seriesData);
        }).catch(function (error) {
            console.log(error);
        });
    });

    var LineChart = function(ID, title, seriesData) {
        var myChart = echarts.init(document.getElementById(ID));
        var option = {
            //标题设置
            title: {
                text: title,
                subtext: '',
                // x 设置水平安放位置，默认左对齐，可选值：'center' ¦ 'left' ¦ 'right' ¦ {number}（x坐标，单位px）
                x: 'center',
                // y 设置垂直安放位置，默认全图顶端，可选值：'top' ¦ 'bottom' ¦ 'center' ¦ {number}（y坐标，单位px）
                y: 'top',
                // itemGap设置主副标题纵向间隔，单位px，默认为10，
                itemGap: 30,
                backgroundColor: '#EEE',
                // 主标题文本样式设置
                textStyle: {
                    fontSize: 26,
                    fontWeight: 'bolder',
                    color: '#000080'
                },
                // 副标题文本样式设置
                subtextStyle: {
                    fontSize: 18,
                    color: '#8B2323'
                }
            },
            //值域设置
            series: [
                {
                    name: '生源地',
                    type: 'pie',
                    radius: '50%',  // 设置饼状图大小，100%时，最大直径=整个图形的min(宽，高)
                    // radius: ['30%', '60%'],  // 设置环形饼状图， 第一个百分数设置内圈大小，第二个百分数设置外圈大小
                    center: ['50%', '50%'],  // 设置饼状图位置，第一个百分数调水平位置，第二个百分数调垂直位置
                    data: seriesData,
                    // itemStyle 设置饼状图扇形区域样式
                    itemStyle: {
                        // emphasis：英文意思是 强调;着重;（轮廓、图形等的）鲜明;突出，重读
                        // emphasis：设置鼠标放到哪一块扇形上面的时候，扇形样式、阴影
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(30, 144, 255，0.5)'
                        }
                    },
                    // 设置值域的标签
                    label: {
                        normal: {
                            position: 'outer',  // 设置标签位置，默认在饼状图外 可选值：'outer' ¦ 'inner（饼状图上）'
                            // formatter: '{a} {b} : {c}个 ({d}%)'   设置标签显示内容 ，默认显示{b}
                            // {a}指series.name  {b}指series.data的name
                            // {c}指series.data的value  {d}%指这一部分占总数的百分比
                            formatter: '{b}{d}%'
                        }
                    }
                }
            ],
        };
        myChart.setOption(option);
    }
</script>
</html>